<!DOCTYPE html>
<html>
<head>
	<title>jQuery ContentEditable WYSIWYG Rich Text Editor Plugin - FreshCode</title>
	<link href="style.css" rel="stylesheet" type="text/css" />
	<link href="jquery.contenteditable/jquery.contenteditable.css" rel="stylesheet" type="text/css" />
	<link href="jquery.contenteditable/jquery.contenteditable.css" rel="stylesheet" type="text/css" />
</head>

<body>

<div class="page">

	<div class="content">

	<h1 id="heading" class="fresheditable">jQuery ContentEditable Plugin</h1>
	<h2>WYSIWYG Rich Text Editor Example</h2>
	<div class="author">by <a href="http://www.freshcode.co.za/">FreshCode</a> &bull; <a href="#commentAnchor">Comment</a></div>

	<div class="buttons" style="margin:1em 0;">
		<button id="editButton" class="button default edit-button">Edit Content</button>
		<button id="saveButton" class="button default save-button hide">Save Changes</button>
		<button id="discardButton" class="hide">Discard Changes</button>
	</div>

	<div id="content" class="fresheditable clear">

		<p><strong>jQuery.contentEditable</strong> is a light-weight WYSIWYG rich text editor plugin that uses <em>contentEditable</em> support in modern browsers for in-place HTML editing.</p>
		<p>Initially developed for <a href="http://draftessay.com/"><em>DraftEssay.com</em></a> (which incidentally, this was written in), I have decided to open-source it to encourage development.</p>
		<h2>Example</h2>
		<p>Click on this text and type something. Press "Save Changes" to get the changed HTML of the editable areas.</p>
		<h2>Dependencies</h2>
		<p>jQuery ContentEditable depends on jQuery and <em>shortcut.js</em> for keyboard shortcuts, as given below.</p>
		<h2>Download</h2>
		<p>The source is hosted on <a href="https://bitbucket.org/freshcode/jquery.contenteditable">BitBucket</a>, which you can clone like so:</p>
		<p><em>$ hg clone <a href="https://bitbucket.org/freshcode/jquery.contenteditable">https://bitbucket.org/freshcode/jquery.contenteditable</a></em></p>
		<h3>Usage</h3>
		<ol>
			<li>Include jQuery 1.4 or higher.</li>
			<li>Include <em>shortcut.js</em> (included with package).</li>
			<li>Include <em>jquery.contenteditable.js</em></li>
			<li>Link to <em>jquery.contenteditable.css</em> for toolbar styles</li>
		</ol>
		<h3>Some jQuery Calls:</h3>
		<ol>
			<li>To initialise the toolbar, call <em>$(".fresheditable").fresheditor();</em><br />
			</li>
			<li>To start/stop editing, call <em>$(".fresheditable").fresheditor("edit", true);</em> for editable elements.</li>
			<li>To save, call <em>$(".fresheditable").fresheditor("save", function(id, content) { ... });</em> to have the callback function called for each editable element being saved.</li>
		</ol>
		<h2>Keyboard Shortcuts</h2>
		<ul>
			<li><strong>Tab</strong> indents the selected content</li>
			<li><strong>Shift+Tab</strong> outdents selected content</li>
			<li><strong>Ctrl+B</strong> makes text <strong>bold</strong><br />
			</li>
			<li><strong>Ctrl+I</strong> makes text <em>italic</em></li>
			<li><strong>Ctrl+U</strong> <u>underlines</u> text</li>
			<li><strong>Ctrl+L</strong> inserts a <a href="#">link</a><br />
			</li>
			<li><strong>Ctrl+Alt+0</strong> formats a paragraph</li>
			<li><strong>Ctrl+Alt+1</strong> through <strong>Ctrl+Alt+5</strong> adds headings 1 through 5</li>
			<li><strong>Ctrl+J</strong> creates an unordered list, like this one<br />
			</li>
			<li><strong>Ctrl+K</strong> creates an ordered list.</li>
		</ul>

	</div>

	<div id="comments">
		<h2><a name="commentAnchor"></a>Comments</h2>
		<div id="disqus_thread"></div>
		<script type="text/javascript">
			/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
			var disqus_shortname = 'freshcode'; // required: replace example with your forum shortname

			// The following are highly recommended additional parameters. Remove the slashes in front to use.
			// var disqus_identifier = 'unique_dynamic_id_1234';
			var disqus_url = 'http://www.freshcode.co.za/plugins/jquery.contenteditable/demo.html';

			/* * * DON'T EDIT BELOW THIS LINE * * */
			(function () {
				var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
				dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
				(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
			})();
		</script>
		<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

	</div>

	<div id="footer">
		&copy; 2011 <a href="http://www.freshcode.co.za/">FreshCode</a>
	</div>
	</div>
</div>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
<script type="text/javascript" src="jquery.contenteditable/shortcut.js"></script>
<script type="text/javascript" src="jquery.contenteditable/jquery.contenteditable.js"></script>

<script type="text/javascript">

	var _isEditing = false;
	function setEditMode(isEditing) {
		_isEditing = isEditing;

		$(".fresheditable").fresheditor("edit", _isEditing);

		$("#saveButton, #discardButton, #editor-toolbar").toggle(_isEditing);
		$("#editButton").toggle(!_isEditing);
	}

	(function ($) {
		$(document).ready(function () {
			$(".fresheditable").fresheditor();

			$("#editButton").click(function () {
				setEditMode(true);
			});

			$("#discardButton").click(function () {
				setEditMode(false);
			});

			$("#saveButton").click(function () {
				$(".fresheditable").fresheditor("save", function (id, parsedHtml) {
					alert(id + ": " + parsedHtml);
				});
				setEditMode(false);
			});

			setEditMode(true);
		});
	})(jQuery);

</script>

<script type="text/javascript">

	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-609939-5']);
	_gaq.push(['_trackPageview']);

	(function () {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();

</script>

</body>
</html>
